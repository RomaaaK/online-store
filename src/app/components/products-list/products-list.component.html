<div class="spiner" *ngIf="isLoad">
  <mat-spinner></mat-spinner>
</div>
<section class="container product__container" *ngIf="!isLoad">
  <aside class="left-colum product__aside">
    <app-search class="search"></app-search>
    <app-sort></app-sort>
    <app-filter></app-filter>
  </aside>
  <section class="product__content">
    <div class="list list__item">
      <mat-card class="card" *ngFor="let product of products" (click)="addToCart(product)">
        <mat-icon class="card__popular-icon" color="warn" *ngIf="product.popular">local_fire_department</mat-icon>
        <mat-card-header class="card__header">
          <mat-card-title class="card__name">
            {{ product.title }}
          </mat-card-title>
          <mat-card-subtitle>Category: <span>{{ product.category }}</span></mat-card-subtitle>
          <p class="card__rating">
            <mat-icon class="card__star">star</mat-icon> <span class="bold">{{ product.rating.rate }}</span>
          </p>
        </mat-card-header>
        <mat-card-content class="card__center">
          <img class="card__image" mat-card-xl-image src="{{ product.image }}" alt="{{ product.title }}">
          <mat-card-subtitle class="card__description">
            {{ product.description }}
          </mat-card-subtitle>
        </mat-card-content>
        <mat-card-footer class="card__footer">
          <p class="card__price"> {{ product.price | currency }} </p>
          <p class="card__count">В наличии: <span class="bold"> {{ product.count }}</span> </p>
          <mat-card-actions>
            <button mat-stroked-button color="accent" color="{{ hasInCart(product) ? 'warn' : 'accent' }}">
              <mat-icon>{{ hasInCart(product) ? 'remove_shopping_cart' : 'add_shopping_cart' }}</mat-icon>
            </button>
          </mat-card-actions>
        </mat-card-footer>
      </mat-card>
    </div>
  </section>
  <p class="warn-text" *ngIf="!products.length">"Извините, совпадений не обнаружено"</p>
</section>